# 全球 AI 趨勢自動化網站 (Global AI Trends Automation Website)

這是一個全自動化的 AI 新聞聚合與電子報發送系統。每日自動從 TechCrunch 等來源爬取 AI 新聞，使用 OpenAI 生成中英文摘要，並透過 Resend 發送電子報。

## 功能特色

- **自動爬蟲與分析**: 每日定時抓取以下權威來源，並使用 GPT-4o 生成分析：
  - **科技媒體**: TechCrunch, Ars Technica, MIT Technology Review
  - **社群討論**: Hacker News, Reddit (r/artificial)
  - **聚合來源**: Google News (AI & Tech 關鍵字)
- **AI 導讀助手 (Chat)**: 每則新聞內建互動式 AI 聊天機器人，可深入詢問新聞細節與背景。
- **AI 語音導讀 (Audio)**: 整合 OpenAI TTS，一鍵朗讀新聞標題與摘要（支援中英雙語），支援語音快取以節省成本。
- **長輩/新手友善 (Elderly Friendly)**: 
  - **白話介面**: 首頁提供「1-2-3 步驟」教學，將網站定位為「每日科技早報」。
  - **置頂教學**: 完整的圖文指南頁面 (`/guide`)，降低使用門檻。
- **行動版體驗優化**:
  - **下拉更新 (Pull-to-Refresh)**: 手機下拉即可即時觸發爬蟲，分析並獲取最新新聞。
  - **無限捲動 (Infinite Scroll)**: 滑動至底部自動載入歷史新聞，閱讀不中斷。
  - **PWA 支援**: 可加入手機主畫面，擁有原生 App icon 與操作體驗。
  - **流暢導覽**: 新聞詳細頁支援「上一則/下一則」快速切換，閱讀不中斷。
- **全站搜尋**: 支援標題與摘要的關鍵字搜尋。
- **短網址系統**: 自動生成 8 碼短連結 (如 `/news/AbCdEf12`)，美觀且易於分享。
- **數據儀表板**: `/trends` 頁面視覺化呈現 AI 關鍵字流行趨勢。
- **流量分析 (GA4)**: 完整整合 Google Analytics，追蹤網站即時流量與使用者行為。
- **電子報與 RSS**: 每日 8 點 (GMT+8) 自動發信，並提供標準 `/feed.xml` 訂閱源。
- **社群整合**: 支援自動發布至 X (Twitter)，並動態生成 Open Graph 預覽圖。
- **自動化週報 (Weekly Trends)**: 系統於每週一自動彙整當週新聞，透過 AI 分析出「每週單一核心訊號」，並提供針對不同角色的決策建議。
- **全站極速雙語 (Instant Bilingual)**: 
  - **嚴格全英文模式**: 切換英文時絕不出現中文 (No Fallback)，確保專業體驗。
  - **AI 語言同步 (AI Sync)**: AI 導讀語音與聊天助手完全同步當前語言設定，英文模式下自動翻譯標題並以英文進行語音導讀與對話。
  - **零延遲翻譯 (Pre-translation)**: 每日抓取新聞時立即進行背景翻譯，用戶瀏覽時無需等待，即開即讀。
- **全站介面翻譯**: 包含 Header、Footer、教學頁面、訂閱介面與搜尋系統皆完全中文化/英文化。

## 近期重大更新

- **成長策略功能全部完成 (2025-12-26)**: 週報 `/weekly` 頁面完整支援英文（標題、核心訊息、角色建議）；訂閱文案優化為 FOMO 風險導向（「這 3 則 AI 新聞，半年後你會後悔沒看到」）；X/LinkedIn 社群貼文模板增強，新增 16 個中英文 FOMO 鉤子短語，支援雙語輸出。
- **雙語內容品質強化 (2025-12-25)**: 每日自動修復服務升級為雙向檢查，確保中文版全中文、英文版全英文；必讀頁面分類名稱新增英文翻譯；批次修復 125 則中文 + 12 則英文翻譯，確保週報、月報、必讀頁面雙語完整。
- **成長策略功能上線 (2025-12-24)**: 新增 `/monthly` 月報頁面（30 天趨勢統計）、`/essentials` 必讀頁面（AI 入門精選）、`/compare` 比較頁面（GPT-5 vs Gemini 3 等 SEO 頁面，支援中英雙語）；整合社群貼文模板系統，新聞詳情頁可一鍵複製 X/LinkedIn 貼文；新增每日自動修復服務，自動翻譯英文標題為中文並補充缺少的摘要；批次翻譯 114 則中文 + 84 則英文內容，確保雙語版網站完整。
- **週報頁面與內容品質優化 (2025-12-23)**: 新增 `/weekly` 週報頁面，展示過去 7 天 AI 決策風險報告；行動裝置改為漢堡選單導覽；批次修復 110+ 則新聞的中文標題與摘要；解決 Favicon 不顯示、新聞詳情頁亂碼等問題。
- **會員系統與雲端收藏 (2025-12-20)**: 正式上線會員功能，支援 Google/FB 登入與跨裝置書籤同步，解決匿名收藏遺失痛點。
- **Vercel Analytics 整合 (2025-12-19)**: 官方整合網站分析，即時監控訪客行為，優化使用者體驗。
- **視覺體驗升級 (2025-12-19)**: 全面導入 Skeleton Screens，取代傳統 Loading 文字，提供更流暢的視覺體驗。
- **全站健康檢查機制 (2025-12-19)**: 建立自動化巡檢工具，確保資料庫完整性與前端顯示正常，已自動修復 2 筆歷史資料缺失。
- **INP 效能優化 (2025-12-19)**: 針對語言切換等高互動元件導入 React Transition API，大幅降低 Interaction to Next Paint (INP) 延遲，提升操作響應速度。
- **英文版結構化摘要 (2025-12-19)**: 英文新聞分析現採用與中文版一致的專業格式，包含「Plain English」、「Key Takeaway」等區塊，提供完整雙語閱讀體驗。
- **摘要品質大幅提升 (2025-12-19)**: LLM 現會抓取原文網頁內容後再生成摘要，分析更深入、更準確。
- **全站繁中化完成 (2025-12-19)**: 重新生成 300+ 則歷史新聞的繁體中文標題與摘要，確保 Archive 等頁面完整中文化。
- **效能優化 (2025-12-18)**: 首頁改用 ISR (增量靜態再生) 策略，頁面載入速度大幅提升，資料庫負載降低 90%。
- **流量增長引擎 (2025-12-18)**: 強化標籤頁面 SEO，新增 Canonical URL 與 Breadcrumb 結構化資料，Sitemap 自動涵蓋所有標籤。
- **修復新手指南連結 (2025-12-18)**: 解決首頁置頂教學卡片無法點擊的問題。
- **自動化測試 (2025-12-17)**: 導入 Playwright E2E 測試框架，覆蓋核心導航與多語言切換場景，確保系統穩定性。
- **嚴格全英文模式 (2025-12-17)**: 實作自動批次翻譯與載入等待機制，確保英文介面下絕無中文殘留，提供專業級的雙語體驗。

## 技術堆疊

- **框架**: Next.js 14 (App Router)
- **語言**: TypeScript
- **樣式**: Tailwind CSS
- **資料庫**: Supabase
- **AI**: OpenAI API (Vercel AI SDK)
- **郵件**: Resend
- **部署**: Vercel (Cron Jobs)

## 本地開發

1. **複製專案**
   ```bash
   git clone <repository-url>
   cd ai-trends-daily
   npm install
   ```

2. **設定環境變數**
   複製 `.env.example` 為 `.env.local` 並填入 API Keys：
   ```bash
   cp .env.example .env.local
   ```

3. **設定資料庫**
   在 Supabase 建立專案，並至 SQL Editor 執行 `supabase/schema.sql` 中的內容以建立資料表。

4. **啟動開發伺服器**
   ```bash
   npm run dev
   ```

## 部署至 Vercel

1. 將專案推送到 GitHub。
2. 在 Vercel 匯入專案。
3. 在 Vercel Project Settings > Environment Variables 中設定所有環境變數。
4. 部署後，Cron Jobs 會自動設定 (需確保 Vercel 專案有啟用 Cron 功能)。

## API 端點 (Cron Jobs)

- `GET /api/cron/scrape`: 執行爬蟲與摘要 (需 `Authorization: Bearer <CRON_SECRET>`)
- `GET /api/cron/newsletter`: 發送電子報 (需 `Authorization: Bearer <CRON_SECRET>`)

## 授權

MIT
